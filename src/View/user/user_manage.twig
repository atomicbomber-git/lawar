{% extends 'general/base.twig' %}

{% block title %} Kelola Akun {% endblock %}

{% block body %}

    {# Navigation Bar #}
    {% include 'general/navbar.twig'%}
    
    <div class="container">
        <div class="spacer"></div>
        <fieldset>
            <legend> Kelola Akun </legend>

            <div class="well well-sm text-right">
                <a class="btn btn-primary btn-xs btn-block" href="{{ path_for("user-signup") }}">
                    Daftarkan Akun Baru 
                    <span class="glyphicon glyphicon-plus"> </span>
                </a>
            </div>

            <h3> Daftar Akun </h3>

            <table class="table table-striped table-hover table-condensed">
                <thead>
                    <tr>
                        <th> Nama </th>
                        <th> Tlp. </th>
                        <th> Status </th>
                        <th> Ctrl. </th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                        <tr>
                            <td> {{ user.username }} </td>
                            <td> {{ user.phone }} </td>
                            <td> {{ user.privilege | capitalize }} </td>
                            <td>
                                <a class="btn btn-success btn-xs" href="{{ path_for("user-edit", {"id": user.id}) }}">
                                    <span class="glyphicon glyphicon-pencil"> </span>
                                </a>
                                <a class="btn btn-danger btn-xs" href="{{ path_for("user-delete", {"id": user.id}) }}">
                                    <span class="glyphicon glyphicon-trash"> </span>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            {% if message.success.user_deleted  %}
                <div class="alert alert-success">
                    {{ message.success.user_deleted }}
                </div>
            {% endif %}

        </fieldset>
    </div>
{% endblock %}